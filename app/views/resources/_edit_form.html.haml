= form_for [@class_room, @resource_page, @section, @resource] do |f|
  - if @resource.errors.any?
    #error_explanation
      %h2= "#{pluralize(@class_room.errors.count, "error")} prohibited this class_room from being saved:"
      %ul
      - @resource.errors.full_messages.each do |msg|
        %li= msg
        
  .field
    = f.label :name, :class => "main"
    = f.text_field :name, :class => "text"
  .field
    = f.label :caption, :class => "main"
    = f.text_field :caption, :class => "text"

  %br

  .actions
    = f.submit "Save"
    %button Insert Image
    %button Insert Media / File

  - if@resource.file_type == "document"
    :javascript
      $().ready(function() {
        $('textarea.tinymce').tinymce({
          // Location of TinyMCE script
          script_url : '/assets/tinymce/tiny_mce.js',
          theme : "advanced",
          plugins : "autolink,lists,layer,table,save,advimage,advlink,inlinepopups,preview,media,searchreplace,contextmenu,paste,noneditable,template",
          theme_advanced_buttons1 : ",bold,italic,underline,strikethrough,sub,sup,|,justifyleft,justifycenter,justifyright,justifyfull,|,bullist,numlist,|,outdent,indent,blockquote,|,formatselect,|,forecolor,pastetext,pasteword,|,undo,redo,|,link,unlink,|,hr,charmap",
          theme_advanced_buttons2 : "",
          theme_advanced_buttons3 : "",
          theme_advanced_toolbar_location : "top",
          theme_advanced_toolbar_align : "left",
          content_css : "/assets/document_content.css",
        });
      }); 
    .field
      = text_area :document, :content, :id => "tinymce_area", :class => "tinymce"
